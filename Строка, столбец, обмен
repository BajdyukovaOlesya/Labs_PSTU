#include <iostream>
#include <clocale>
using namespace std;

int main()
{
	int n,m;
	setlocale(LC_ALL, "ru");
		cout << "Введите кол-во строк и столбцов" << endl;
	cin >> n >> m;
	while(n!=m) {
		cout << "Матрица должна быть квадратной. Введите равное кол-во строк и столбцов"<<endl;
		cin >> n >> m;
	}
	int** mas = new int*[n];
	for (int i = 0; i < n; i++)
		mas[i] = new int[m];
	srand(time(NULL));
	for (int i = 0; i < n; i++) {
	    for (int j=0;j<n;j++)
		mas[i][j] = rand() % 9;
	}
	for (int i = 0; i < n; i++) {
		for (int j = 0; j < n; j++)
			cout << mas[i][j]<<' ';
		cout << endl;
	}
	int p, k;
	cout << "Введите номер строки и столбца(1-"<<n<<')';
	cin >> p;//строка
	cin >> k;//столбец
	p -= 1;
	k -= 1;
	if (p == k) {
		for (int j = 0; j < n; j++) {
			int y = mas[p][j];
			mas[p][j] = mas[j][k];
			mas[j][k] = y;
		}
		for (int i = 0; i < n; i++) {
			for (int j = 0; j < n; j++)
				cout << mas[i][j] << ' ';
			cout << endl;
		}
	}
	else {
		if ((k - p) < 0) {
			int y = mas[p][k];
			mas[p][k] = mas[p][k + (p - k)];
			mas[p][k + (p - k)] = y;
			for (int j = 0; j < n; j++) {
				
					int y = mas[p][j];
					mas[p][j] = mas[j][k];
					mas[j][k] = y;
				}
				for (int i = 0; i < n; i++) {
					for (int j = 0; j < n; j++)
						cout << mas[i][j] << ' ';
					cout << endl;
				}
			}
		
		else {
			int y = mas[p][k];
			mas[p][k] = mas[p + (k - p)][k];
			mas[p + (k - p)][k] = y;
			for (int j = 0; j < n; j++) {
				

				int y = mas[p][j];
				mas[p][j] = mas[j][k];
				mas[j][k] = y;
			}
			for (int i = 0; i < n; i++) {
				for (int j = 0; j < n; j++)
					cout << mas[i][j] << ' ';
				cout << endl;
			}

		}
	
	}
	return 0;
}
